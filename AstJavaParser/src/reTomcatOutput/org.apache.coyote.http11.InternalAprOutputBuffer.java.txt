ClassOrInterfaceDeclaration
	ConstructorDeclaration
		BlockStmt
			response
			Constants
	ConstructorDeclaration
		BlockStmt
			response
			headers
			getMimeHeaders
				response
			buf
			PrimitiveType
			headerBufferSize
			IfStmt
				<
					headerBufferSize
					*
				BlockStmt
					bbuf
					allocateDirect
						*
							+
								/
									headerBufferSize
						ByteBuffer
				BlockStmt
					bbuf
					allocateDirect
						*
						ByteBuffer
			outputStreamOutputBuffer
			filterLibrary
			activeFilters
			lastActiveFilter
			-
			committed
			BooleanLiteralExpr
			finished
			BooleanLiteralExpr
			getMessage
				HttpMessages
		PrimitiveType
	FieldDeclaration
		VariableDeclarator
			getManager
				Constants
				StringManager
			sm
	FieldDeclaration
		VariableDeclarator
			getLog
				ClassExpr
				org
			log
	FieldDeclaration
		VariableDeclarator
			response
	FieldDeclaration
		VariableDeclarator
			headers
	FieldDeclaration
		VariableDeclarator
			committed
			PrimitiveType
	FieldDeclaration
		VariableDeclarator
			finished
			PrimitiveType
	FieldDeclaration
		VariableDeclarator
			buf
			PrimitiveType
	FieldDeclaration
		VariableDeclarator
			pos
			PrimitiveType
	FieldDeclaration
		VariableDeclarator
			socket
			PrimitiveType
	FieldDeclaration
		VariableDeclarator
			outputStreamOutputBuffer
	FieldDeclaration
		VariableDeclarator
			filterLibrary
	FieldDeclaration
		VariableDeclarator
			activeFilters
	FieldDeclaration
		VariableDeclarator
			lastActiveFilter
			PrimitiveType
	FieldDeclaration
		VariableDeclarator
			NullLiteralExpr
			bbuf
	MethodDeclaration
		BlockStmt
			socket
			setsbb
				bbuf
				Socket
		PrimitiveType
	MethodDeclaration
		BlockStmt
			ReturnStmt
				socket
		PrimitiveType
	MethodDeclaration
		BlockStmt
		PrimitiveType
	MethodDeclaration
		BlockStmt
			VariableDeclarator
				+
					filterLibrary
				newFilterLibrary
			ForStmt
				BlockStmt
					i
					newFilterLibrary
					i
					filterLibrary
				<
					i
					filterLibrary
				VariableDeclarator
					i
					PrimitiveType
				++
					i
			filterLibrary
			newFilterLibrary
			filter
			filterLibrary
			newFilterLibrary
			activeFilters
			filterLibrary
	MethodDeclaration
		BlockStmt
			ReturnStmt
				filterLibrary
	MethodDeclaration
		BlockStmt
			filterLibrary
			lastActiveFilter
			-
	MethodDeclaration
		BlockStmt
			IfStmt
				==
					lastActiveFilter
					-
				BlockStmt
					ForStmt
						BlockStmt
							IfStmt
								==
									i
									activeFilters
									filter
								ReturnStmt
						<=
							i
							lastActiveFilter
						VariableDeclarator
							i
							PrimitiveType
						++
							i
					setBuffer
						lastActiveFilter
						activeFilters
						filter
				BlockStmt
					setBuffer
						outputStreamOutputBuffer
						filter
			++
				lastActiveFilter
			activeFilters
			filter
			setResponse
				response
				filter
	MethodDeclaration
		BlockStmt
			IfStmt
				!
					committed
				BlockStmt
					action
						ActionCode
						NullLiteralExpr
						response
			ForStmt
				BlockStmt
					IfStmt
						i
						activeFilters
						BlockStmt
							IfStmt
								isDebugEnabled
									log
								BlockStmt
									debug
										+
											+
												StringLiteralExpr
												i
											StringLiteralExpr
										log
							flush
								i
								activeFilters
							BreakStmt
				<=
					i
					lastActiveFilter
				VariableDeclarator
					i
					PrimitiveType
				++
					i
			flushBuffer
	MethodDeclaration
		BlockStmt
			IfStmt
				committed
				ThrowStmt
			recycle
				response
	MethodDeclaration
		BlockStmt
			recycle
				response
			clear
				bbuf
			ForStmt
				BlockStmt
					recycle
						i
						activeFilters
				<=
					i
					lastActiveFilter
				VariableDeclarator
					i
					PrimitiveType
				++
					i
			socket
			pos
			lastActiveFilter
			-
			committed
			BooleanLiteralExpr
			finished
			BooleanLiteralExpr
	MethodDeclaration
		BlockStmt
			recycle
				response
			ForStmt
				BlockStmt
					recycle
						i
						activeFilters
				<=
					i
					lastActiveFilter
				VariableDeclarator
					i
					PrimitiveType
				++
					i
			pos
			lastActiveFilter
			-
			committed
			BooleanLiteralExpr
			finished
			BooleanLiteralExpr
	MethodDeclaration
		BlockStmt
			IfStmt
				!
					committed
				BlockStmt
					action
						ActionCode
						NullLiteralExpr
						response
			IfStmt
				finished
				ReturnStmt
			IfStmt
				!=
					lastActiveFilter
					-
				end
					lastActiveFilter
					activeFilters
			flushBuffer
			finished
			BooleanLiteralExpr
	MethodDeclaration
		BlockStmt
			IfStmt
				!
					committed
				BlockStmt
					IfStmt
						<
							send
								socket
								Constants
								Constants
								Socket
						ThrowStmt
							getString
								StringLiteralExpr
								sm
	MethodDeclaration
		BlockStmt
			write
				Constants
			++
				pos
			buf
			Constants
			VariableDeclarator
				getStatus
					response
				status
				PrimitiveType
			SwitchStmt
				SwitchEntryStmt
					write
						Constants
					BreakStmt
				SwitchEntryStmt
					write
						Constants
					BreakStmt
				SwitchEntryStmt
					write
						Constants
					BreakStmt
				SwitchEntryStmt
					write
						status
				status
			++
				pos
			buf
			Constants
			VariableDeclarator
				NullLiteralExpr
				message
			IfStmt
				&&
					org
					isSafeInHttpHeader
						getMessage
							response
						HttpMessages
				BlockStmt
					message
					getMessage
						response
			IfStmt
				==
					message
					NullLiteralExpr
				BlockStmt
					write
						message
				BlockStmt
					write
						getMessage
							status
							HttpMessages
			++
				pos
			buf
			Constants
			++
				pos
			buf
			Constants
	MethodDeclaration
		BlockStmt
			write
				name
			++
				pos
			buf
			Constants
			++
				pos
			buf
			Constants
			write
				value
			++
				pos
			buf
			Constants
			++
				pos
			buf
			Constants
	MethodDeclaration
		BlockStmt
			write
				name
			++
				pos
			buf
			Constants
			++
				pos
			buf
			Constants
			write
				value
			++
				pos
			buf
			Constants
			++
				pos
			buf
			Constants
	MethodDeclaration
		BlockStmt
			write
				name
			++
				pos
			buf
			Constants
			++
				pos
			buf
			Constants
			write
				value
			++
				pos
			buf
			Constants
			++
				pos
			buf
			Constants
	MethodDeclaration
		BlockStmt
			++
				pos
			buf
			Constants
			++
				pos
			buf
			Constants
	MethodDeclaration
		BlockStmt
			IfStmt
				!
					committed
				BlockStmt
					action
						ActionCode
						NullLiteralExpr
						response
			IfStmt
				==
					lastActiveFilter
					-
				ReturnStmt
					doWrite
						chunk
						res
						lastActiveFilter
						activeFilters
				ReturnStmt
					doWrite
						chunk
						res
						outputStreamOutputBuffer
		PrimitiveType
	MethodDeclaration
		BlockStmt
			committed
			BooleanLiteralExpr
			setCommitted
				BooleanLiteralExpr
				response
			IfStmt
				>
					pos
				BlockStmt
					put
						buf
						pos
						bbuf
	MethodDeclaration
		BlockStmt
			IfStmt
				==
					getType
						mb
					MessageBytes
				IfStmt
					==
						getType
							mb
						MessageBytes
					BlockStmt
						write
							toString
								mb
					BlockStmt
						VariableDeclarator
							getCharChunk
								mb
							cc
						write
							cc
				BlockStmt
					VariableDeclarator
						getByteChunk
							mb
						bc
					write
						bc
	MethodDeclaration
		BlockStmt
			VariableDeclarator
				getLength
					bc
				length
				PrimitiveType
			arraycopy
				getBytes
					bc
				getStart
					bc
				buf
				pos
				length
				System
			pos
			+
				pos
				length
	MethodDeclaration
		BlockStmt
			VariableDeclarator
				getStart
					cc
				start
				PrimitiveType
			VariableDeclarator
				getEnd
					cc
				end
				PrimitiveType
			VariableDeclarator
				getBuffer
					cc
				cbuf
				PrimitiveType
			ForStmt
				BlockStmt
					VariableDeclarator
						i
						cbuf
						c
						PrimitiveType
					IfStmt
						||
							||
								&&
									<=
										c
									!=
										c
								==
									c
							>
								c
						BlockStmt
							c
							CharLiteralExpr
					++
						pos
					buf
					c
					PrimitiveType
				<
					i
					end
				VariableDeclarator
					start
					i
					PrimitiveType
				++
					i
	MethodDeclaration
		BlockStmt
			arraycopy
				b
				buf
				pos
				b
				System
			pos
			+
				pos
				b
		PrimitiveType
	MethodDeclaration
		BlockStmt
			IfStmt
				==
					s
					NullLiteralExpr
				ReturnStmt
			VariableDeclarator
				length
					s
				len
				PrimitiveType
			ForStmt
				BlockStmt
					VariableDeclarator
						charAt
							i
							s
						c
						PrimitiveType
					IfStmt
						||
							||
								&&
									<=
										c
									!=
										c
								==
									c
							>
								c
						BlockStmt
							c
							CharLiteralExpr
					++
						pos
					buf
					c
					PrimitiveType
				<
					i
					len
				VariableDeclarator
					i
					PrimitiveType
				++
					i
	MethodDeclaration
		BlockStmt
			write
				valueOf
					i
					String
		PrimitiveType
	MethodDeclaration
		BlockStmt
			IfStmt
				>
					position
						bbuf
				BlockStmt
					IfStmt
						<
							sendbb
								socket
								position
									bbuf
								Socket
						BlockStmt
							ThrowStmt
					clear
						bbuf
	ClassOrInterfaceDeclaration
		MethodDeclaration
			BlockStmt
				VariableDeclarator
					getLength
						chunk
					len
					PrimitiveType
				VariableDeclarator
					getStart
						chunk
					start
					PrimitiveType
				VariableDeclarator
					getBuffer
						chunk
					b
					PrimitiveType
				WhileStmt
					BlockStmt
						VariableDeclarator
							len
							thisTime
							PrimitiveType
						IfStmt
							==
								position
									bbuf
								capacity
									bbuf
							BlockStmt
								flushBuffer
						IfStmt
							>
								thisTime
								-
									capacity
										bbuf
									position
										bbuf
							BlockStmt
								thisTime
								-
									capacity
										bbuf
									position
										bbuf
						put
							b
							start
							thisTime
							bbuf
						len
						-
							len
							thisTime
						start
						+
							start
							thisTime
					>
						len
				ReturnStmt
					getLength
						chunk
			PrimitiveType
